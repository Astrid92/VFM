\section{Modelo de Despliegue}

\begin{figure}[h]

  \centering
  \includegraphics[width=18cm,height=6cm]{Imagenes/Despliegue/Arquitectonico.png}
  \caption{Diagrama de despliegue exterior}  
  \label{fig:arqui}
\end{figure}

El sistema interactuar\'a con una base de datos creada en SQLite 3, escribiendo directamente en ella, por otra parte realizar\'a una conex\'on
a internet a trav\'es del protocolo Http para obtener informaci\'on de la API de Google maps versi\'on 2. Como
se muestra en la figura ~\ref{fig:arqui}.


\begin{figure}[h]

  \centering
  \includegraphics[width=18cm,height=6cm]{Imagenes/Despliegue/Subsistemas.png}
  \caption{Diagrama de despliegue interior}  
  \label{fig:subsistemas}
\end{figure}

El diagrama de despliegue interior da a conocer la integraci\'on de los dos servicios exteriores,  previamente presentados. Es importante destacar la comunicaci\'on entre la aplicaci\'on Android y el servidor y sus responsabilidades.
\newline

Para comunicar la aplicaci\'on Android y el servidor, se utilizar\'an servicios web, con probabilidad de tipo REST.
\newline

El servidor ser\'a encargado de calcular el itinerario global, conociendo la ubicaci\'on del usuario y su(s) destinos. El usuario determinar\'a que transportes p\'ublico utilizar\'a (metro o metrobus) y cual partes del itinerario van a ser peatonales (recorte de la ruta en fracciones). 
Entonces, hay una capa de abstracci\'on por la manera de calcular la ruta para la aplicaci\'on Android, que solamente se encargue mostrarla, sin conocimiento del algoritmo utilizado. Para calcular esta ruta, el servidor va a utilizar una base de datos de los estaciones y aplicar un algoritmo de la teor\'ia de los grafos.
\newline

Adem\'as, el servidor debe ser capaz de proporcionar a la aplicaci\'on Android los lugares de inter\'es cercanos al lugar inicial de interes. De esta manera, la aplicaci\'on Android no necesita ser conciente de quien proporciona los lugares de inter\'es, que sea una o diferentes API exteriores o que sea una base de datos del servidor en s\'i mismo (otra capa de abstracci\'on).
